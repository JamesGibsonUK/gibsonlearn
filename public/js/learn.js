function Boid(n,o){this.id=Boid.lastId++,this.position=[n,o],this.size=10,this.color="red",this.velocity=[25-30*Math.random(),25-80*Math.random()]}function vDiff(n,o){return[n[0]-o[0],n[1]-o[1]]}function vLength(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function round(n){return.5+n|0}function draw(n){var o=(n-(lastTimestamp||n))/1e3;lastTimestamp=n,context.clearRect(0,0,canvas.width,canvas.height);for(var i=0;maxPoolSize>i;i++){var t=pool[i];t.update(o),t.draw()}window.requestAnimFrame(draw)}function parallax(){if($("#js-parallax-window").length>0){var n=$("#js-parallax-background"),o=$("#js-parallax-window"),i=$(o).offset().top,t=$(window).scrollTop(),e=i-t,a=($(n).offset().top,window.innerHeight,.35);n.css("top",-(e*a)+"px")}}$(document).ready(function(){var n=$("#js-mobile-menu").unbind();$("#js-navigation-menu").removeClass("show"),n.on("click",function(n){n.preventDefault(),$("#js-navigation-menu").slideToggle(function(){$("#js-navigation-menu").is(":hidden")&&$("#js-navigation-menu").removeAttr("style")})})}),$(function(){$("#typing-text").typed({strings:["Welcome to Gibson Learn.","A Level Revision."],typeSpeed:100,backDelay:2e3,loop:!1})});var canvas=document.getElementById("nodes"),context=canvas.getContext("2d"),pool=[],maxPoolSize=500,distanceThreshold=90,lastTimestamp=0,nodeConnections=[];canvas.width=window.innerWidth,canvas.height=500,maxPoolSize=canvas.width*canvas.height/6e3,Boid.lastId=0,Boid.prototype={update:function(n){for(var o=0;maxPoolSize>o;o++){var i=pool[o],t=this.distanceTo(i);distanceThreshold>t&&(cohesion=[])}this.position[0]+=this.velocity[0]*n,this.position[1]+=this.velocity[1]*n,this.position[0]>canvas.width&&(this.position[0]=0),this.position[1]>canvas.height&&(this.position[1]=0),this.position[0]<0&&(this.position[0]=canvas.width),this.position[1]<0&&(this.position[1]=canvas.height)},distanceTo:function(n){var o=vDiff(this.position,n.position);return Math.abs(vLength(o))},isConnectedTo:function(n){return nodeConnections[n.id]==this.id||nodeConnections[this.id]==n.id},connectTo:function(n){nodeConnections[this.id]=n.id,nodeConnections[n.id]=this.id},draw:function(){var n=[round(this.position[0]),round(this.position[1])],o=0;context.globalAlpha=.1;for(var i=0;maxPoolSize>i;i++){var t=pool[i],e=this.distanceTo(t);distanceThreshold>=e&&(o++,this.isConnectedTo(t)||(this.connectTo(t),context.beginPath(),context.moveTo(n[0],n[1]),context.lineTo(round(t.position[0]),round(t.position[1])),context.stroke()))}context.globalAlpha=.5,context.beginPath(),context.arc(n[0],n[1],this.size*(o/5),0,2*Math.PI),context.fill()}},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n,o){window.setTimeout(n,1e3/60)}}();for(var i=0;maxPoolSize>i;i++)pool.push(new Boid(Math.random()*canvas.width,Math.random()*canvas.height));document.body.appendChild(canvas),window.requestAnimFrame(draw),$(document).ready(function(){$("#js-parallax-window").length&&parallax()}),$(window).scroll(function(n){$("#js-parallax-window").length&&parallax()});